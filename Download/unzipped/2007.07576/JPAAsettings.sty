\tikzset{
	place/.style={
		circle,
		thick,
		draw=blue!75,
		fill=blue!20,
		minimum size=6mm
	},
	transition/.style={
		rectangle,
		thick,
		fill=black,
		minimum width=8mm,
		inner ysep=2pt
	},
	category/.style={
		rectangle,
		draw=black,
		minimum width=0.5cm,
		minimum height=0.5cm
	},
	opCategory/.style={
		rectangle,
		draw=black,
		minimum width=0.5cm,
		minimum height=0.5cm,
		fill=black!20
	},
	component/.style={
		rectangle, 
		inner sep=0mm, 
		minimum size=2mm,
		fill=black
	}, 
	>=stealth',
	bend angle=45,
	auto,
	baseline=(current  bounding  box.center),
}
\tikzcdset{arrow style=tikz}


\let\temp\phi
\let\phi\varphi
\let\varphi\temp

\newcommand{\sorttitle}[1]{}

%-----------------------------------------------------
% Macro for decent notation for categories over categories. There are two versions:
% \newfaktor {input1} [optional1] {input2} [optional2] prints optional1/optional2 with a dash bar proportionate to the inputs, by raising input1 by optional1 and input2 by optional2. Default values for optional1 is +0.5, optional2 is -0.5. These numbers refer to the font size of the input. 
% \newfaktor* (same thing as above) uses \diagup which is the regular \faktor slash instad. fSee 
% https://tex.stackexchange.com/questions/27591/extending-the-faktor-package

\DeclareDocumentCommand{\newfaktor}{s m O{0.5} m O{-0.5}}{% \newfaktor[*]{#2}[#3]{#4}[#5] -> #2/#4
    \setbox0=\hbox{\ensuremath{#2}}% Store numerator
    \setbox1=\hbox{\ensuremath{\diagup}}% Store slash /
    \setbox2=\hbox{\ensuremath{#4}}% Store denominator
    \raisebox{#3\ht1}{\usebox0}% Numerator
    \mkern-5mu\ifthenelse{\equal{#1}{\BooleanTrue}}% Slash /
    {\diagup}% regular \faktor slash
    {\rotatebox{-44}{\rule[#5\ht2]{0.4pt}{-#5\ht2+#3\ht0+\ht0}}}% tilted rule as a slash
    \mkern-4mu%
    \raisebox{#5\ht2}{\usebox2}% Denominator
}

\newcommand{\Cat}{\mathbb{C}\mathrm{at}}

\newcommand{\catover}[1]{\newfaktor {\Cat} [0.25] {#1} }
\newcommand{\WCFover}[1]{\overline{\catover{#1}}}

\newcommand{\A}{\mathbb A}
\newcommand{\B}{\mathbb B}
\newcommand{\C}{\mathbb C}
\newcommand{\D}{\mathbb D}
\newcommand{\E}{\mathbb E}
\newcommand{\I}{\mathbb I}
\renewcommand{\L}{\mathbb L}
\newcommand{\M}{\mathbb M}
\newcommand{\N}{\mathbb N}
\newcommand{\PN}{\mathbb{PN}}
\newcommand{\Per}{\mathbb P}

\newcommand{\cospan}[1]{\mathbb{C}\mathrm{o}\mathbb{S}\mathrm{pan}(#1)}

\newcommand{\fc}[2]{\{ #1,#2\}} %functor category
\newcommand{\FC}[2]{\{ #1,#2\}} %functor category again, for compatibility with thesis
\newcommand{\gc}{\mathbb H} % loose graph category
\newcommand{\GC}{{\mathbb G}^*}
\newcommand{\gcf}{\mathbb G} %graph categoy - final
\newcommand{\gf}{\overline{\Gamma}} %graph functor
\newcommand{\ring}[2]{#1 \circ #2} % substitution category

\newcommand{\ggraph}[1]{\Gamma\!\left(#1\right)}

\newcommand{\parts}[1]{\mathcal{P}(#1)}

\newcommand{\Set}{\mathbb{S}\mathrm{et}}
\newcommand{\finset}{\mathbb{F}\mathrm{in}\mathbb{S}\mathrm{et}}


\def\Op#1{#1^{\text{op}}}

\newcommand{\id}[1]{\ensuremath{\mathop{\textit{id}_{#1}}}}

\newcommand{\List}[1]{\ensuremath{\mathrm{List}#1}}
\newcommand{\length}[1]{\lvert #1 \rvert}
\newcommand{\Not}[1]{\overline{#1}}

\newcommand{\class}[1]{[#1]}

\newcommand{\skel}[3]{
    \ifx&#1&% #1 is empty
    \ifx&#2&% #2 is empty
    \ifx&#3&% #3 is empty
    \mathit{sk}    
    \fi
    \fi
    \else
    \mathit{sk}(#1,#2,#3)
    \fi
}
\newcommand{\funminplus}[5]{\ensuremath{#1 ({#2} \mid {#3} )_{#4 \in #5}} } %1=functor; 2,3=negative/positive operands; 4=index; 5=length of arity of functor. 

\newcommand{\funminplusconst}[3]{\ensuremath{#1 ( #2 \mid #3 )}} %it's funminplus where the operands are constant over the index.

\newcommand{\funminplussq}[5]{\ensuremath{#1 [{#2} \mid {#3} ]_{#4 \in #5}} } %same as funminplus but with square brackets

\newcommand{\bfA}{{\boldsymbol A}}
\newcommand{\bfB}{{\boldsymbol B}}
\newcommand{\bfC}{{\boldsymbol C}}
\newcommand{\bfg}{{\boldsymbol g}}
\newcommand{\bfh}{{\boldsymbol h}}
\newcommand{\subst}[3]{{{\boldsymbol{#1}}[#2/#3}]} %#1=list (A1...An), #2=object, #3=number between 1 and n. Substitute #2 at the #3-th entry
\newcommand{\substMV}[4]{{{\boldsymbol{#1}}[#2,#3 / #4]}} %version of \subst for Mixed Variance.

\newcommand{\eval}[2]{
	\ifx&#1&% #1 is empty
	\ifx&#2&% #2 is empty
	\ensuremath{\mathit{eval}}
	\fi
	\else % #1 is nonempty
	\ensuremath{\mathit{eval}_{#1,#2}}
	\fi
}
\renewcommand{\implies}{\Rightarrow}

\renewcommand{\hom}[1]{\mathrm{Hom}_{#1}}

\newcommand{\graph}[1]{\Gamma\!\left(#1\right)}

\newcommand*{\LargerCdot}{\raisebox{-.75ex}{\scalebox{3}{$\cdot$}}}
\newcommand{\inp}[1]{
	\if\relax\detokenize{#1}\relax %if 1 is empty
	\ensuremath{\bullet (-)}
	\else
	\ensuremath{\bullet #1}
	\fi
}
\newcommand{\out}[1]{
	\if\relax\detokenize{#1}\relax
	\ensuremath{(-)\bullet}
	\else
	\ensuremath{#1 \bullet}
	\fi
}

\newcommand{\Inp}[1]{\bullet_{#1} (-) }
\newcommand{\Out}[1]{(-) \bullet_{#1} }

\newcommand{\injP}[1]{\ensuremath{\iota_{#1}}}
\newcommand{\injT}[1]{\ensuremath{\rho_{#1}}}

\newcommand{\mor}[3]{\mu(#1,#2,#3)}

\newcommand{\dom}[1]{
    \if\relax\detokenize{#1}\relax %if 1 is empty
    \ensuremath{\mathit{dom}}
    \else
    \ensuremath{\mathit{dom}\left(#1\right)}
    \fi
}
\newcommand{\codom}[1]{
    \if\relax\detokenize{#1}\relax
    \mathit{codom}
    \else
    \mathit{codom}\left(#1\right)
    \fi
}

\newcommand{\eq}{\sim}

\newcommand{\hc}[2]{{#2}\mathbin{\ast}{#1}}
\newcommand{\HC}[3]{{#2} \overset{\text{\tiny $#3$}}{\mathbin{\ast}} {#1}}

\newcommand{\fst}{\phi}
\newcommand{\snd}{\psi}
\newcommand{\fstDom}{F}
\newcommand{\fstCoDom}{G}
\newcommand{\sndDom}{H}
\newcommand{\sndCoDom}{K}
\newcommand{\trd}{\chi}
\newcommand{\trdDom}{U}
\newcommand{\trdCoDom}{V}
\newcommand{\fstDomVar}{\alpha}
\newcommand{\fstCoDomVar}{\beta}
\newcommand{\sndDomVar}{\gamma}
\newcommand{\sndCoDomVar}{\delta}
\newcommand{\trdDomVar}{\epsilon}
\newcommand{\trdCoDomVar}{\zeta}
\newcommand{\fstTypL}{\sigma}
\newcommand{\fstTypR}{\tau}
\newcommand{\sndTypL}{\eta}
\newcommand{\sndTypR}{\theta}
\newcommand{\trdTypL}{\pi}
\newcommand{\trdTypR}{\omega}
\newcommand{\fstVarNo}{n}
\newcommand{\sndVarNo}{m}
\newcommand{\trdVarNo}{l}

\newcommand{\F}{\fstDom}
\newcommand{\G}{\fstCoDom}
\renewcommand{\H}{\sndDom}
\newcommand{\K}{\sndCoDom}
\newcommand{\U}{\trdDom}
\newcommand{\V}{\trdCoDom}

\newcommand{\fstVariables}[2]{% #1 = missing variable, #2 = replacement
    \if\relax\detokenize{#1}\relax %if 1 is empty
    \bfA
    \else
    \subst \bfA {#2} {#1}
    %A_1,\dots,A_{#1-1},#2,A_{#1+1},\dots,A_\fstVarNo
    \fi
}

\newcommand{\sndVariables}[2]{
    \if\relax\detokenize{#1}\relax %if 1 is empty
    \bfB
    \else
    \subst \bfB {#2} {#1}
    %B_1,\dots,B_{#1-1},#2,B_{#1+1},\dots,B_\sndVarNo
    \fi
}

\newcommand{\trdVariables}[2]{
    \if\relax\detokenize{#1}\relax %if 1 is empty
    \bfC
    \else
    \subst \bfC {#2} {#1}
    %C_1,\dots,C_{#1-1},#2,C_{#1+1},\dots,C_\trdVarNo
    \fi
}


\RequirePackage{ifthen}
\newcommand{\hcd}[4]{\ifthenelse{\equal{#1}{one} \AND \equal{#2}{one}}
	%\ifthenelse{\equal{#2}{2}}
	{\sndDom(1,\fstDom(#3,#4))}
	{\ifthenelse{\equal{#3}{one} \AND \equal{#4}{one}}
		{\sndDom(\Op\fstCoDom (#1,#2), 1)}
		{\sndDom(\Op\fstCoDom (#1,#2), \fstDom(#3,#4))}
	}
}

\newcommand{\hcc}[4]{\ifthenelse{\equal{#1}{one} \AND \equal{#2}{one}}
	%\ifthenelse{\equal{#2}{2}}
	{\sndCoDom(1,\fstCoDom(#3,#4))}
	{\ifthenelse{\equal{#3}{one} \AND \equal{#4}{one}}
		{\sndCoDom(\Op\fstDom (#1,#2), 1)}
		{\sndCoDom(\Op\fstDom (#1,#2), \fstCoDom(#3,#4))}
	}
}

\renewcommand{\bar}[2]{
    \if\relax\detokenize{#1}\relax %if 1 is empty
    \overline{(-)}^{#2}
    \else
    \overline{#1}^{#2}
    \fi
}


\def\doubleplus{\mathop{++}}
\newcommand\concat{\doubleplus\limits}


\newcommand{\ghcDom}{\funminplus \sndDom {\Op{\G_{\sndTypL u}}} {\F_{\sndTypL u}} u {\length\sndDomVar}}
\newcommand{\ghcCoDom}{\funminplus \K {\Op{\F_{\sndTypR v}}} {\G_{\sndTypR v}} v {\length\sndCoDomVar}}



\newdefinition{definition}{Definition}
\numberwithin{definition}{section} %So that equations are of the form 1.1,1.2... in chapter 1, 2.1,2.2... in chapter 2 etc
\newdefinition{remark}[definition]{Remark}
\newdefinition{example}[definition]{Example}
\newtheorem{theorem}[definition]{Theorem}
\newtheorem{proposition}[definition]{Proposition}
\newtheorem{corollary}[definition]{Corollary}
\newtheorem{lemma}[definition]{Lemma}

\newproof{proof}{Proof}
\newproof{proofMainTheorem}{Proof of Theorem~\ref{theorem:acyclic implies dinatural}}
\newproof{proofDinTheorem}{Proof of Theorem~\ref{thm:horCompIsDinat}}
\newproof{proofAssociativity}{Proof of Theorem~\ref{thm:associativityTheorem}}